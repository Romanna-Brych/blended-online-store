{"version":3,"file":"index.js","sources":["../src/js/products-api.js","../src/js/render-function.js","../src/js/handlers.js","../src/home.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://dummyjson.com';\n\nlet currentPage = 1;\n\nexport async function getCategoryList() {\n  const respons = await axios(`/products/category-list?`);\n  return respons.data;\n}\n\nexport async function getProducts() {\n  const respons = await axios('products?', {\n    params: {\n      limit: 12,\n      skip: `${(currentPage - 1) * 12}`,\n    },\n  });\n  return respons.data;\n}\n\nexport async function getCategoryByValue(endPoint) {\n  const respons = await axios('/products/category/' + endPoint, {\n    params: {\n      limit: 12,\n    },\n  });\n  return respons.data;\n}\n","export function createCategoryMarkup(arr) {\n  return arr\n    .map(\n      item => `\n  <li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${item}</button>\n </li>`\n    )\n    .join('');\n}\nexport function createProductsMarkup(arr) {\n  return arr\n    .map(\n      ({ id, images, description, title, category, price, brand }) => `\n  <li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${images[0]}\" alt=\"${description}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${brand}</span></p>\n    <p class=\"products__category\">Category: ${category} </p>\n    <p class=\"products__price\">Price: ${price}$</p>\n </li>\n`\n    )\n    .join('');\n}\n","import { getCategoryByValue, getProducts } from './products-api';\nimport { createProductsMarkup } from './render-function';\nimport { productsList } from '../home';\n\nexport async function handleCategoryClick(event) {\n  if (event.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  const value = event.target.textContent;\n  const notFoundEl = document.querySelector('div.not-found');\n\n  try {\n    let res;\n    if (value === 'All') {\n      res = await getProducts();\n    } else {\n      res = await getCategoryByValue(value);\n      if (res.products.length === 0) {\n        notFoundEl.classList.add('not-found--visible');\n        return;\n      }\n    }\n\n    notFoundEl.classList.remove('not-found--visible');\n    productsList.innerHTML = createProductsMarkup(res.products);\n\n    document\n      .querySelectorAll('.categories__btn')\n      .forEach(btn => btn.classList.remove('categories__btn--active'));\n    event.target.classList.add('categories__btn--active');\n  } catch (error) {\n    console.log(error);\n  } finally {\n  }\n}\n","//Логіка сторінки Home\nimport {\n  getCategoryList,\n  getProducts,\n  getCategoryByValue,\n} from './js/products-api';\nimport {\n  createCategoryMarkup,\n  createProductsMarkup,\n} from './js/render-function';\nimport { handleCategoryClick } from './js/handlers';\n\nconst categoriesList = document.querySelector('ul.categories');\nexport const productsList = document.querySelector('ul.products');\n\ncategoriesList.addEventListener('click', handleCategoryClick);\n\ngetCategoryList().then(res => {\n  const markup = ['All', ...res];\n  categoriesList.innerHTML = createCategoryMarkup(markup);\n});\n\ngetProducts().then(res => {\n  console.log(res);\n  productsList.innerHTML = createProductsMarkup(res.products);\n});\n"],"names":["axios","currentPage","getCategoryList","getProducts","getCategoryByValue","endPoint","createCategoryMarkup","arr","item","createProductsMarkup","id","images","description","title","category","price","brand","handleCategoryClick","event","value","notFoundEl","res","productsList","btn","error","categoriesList","markup"],"mappings":"oFAEAA,EAAM,SAAS,QAAU,wBAEzB,IAAIC,EAAc,EAEX,eAAeC,GAAkB,CAEtC,OADgB,MAAMF,EAAM,0BAA0B,GACvC,IACjB,CAEO,eAAeG,GAAc,CAOlC,OANgB,MAAMH,EAAM,YAAa,CACvC,OAAQ,CACN,MAAO,GACP,KAAM,IAAIC,EAAc,GAAK,EAAE,EAChC,CACL,CAAG,GACc,IACjB,CAEO,eAAeG,EAAmBC,EAAU,CAMjD,OALgB,MAAML,EAAM,sBAAwBK,EAAU,CAC5D,OAAQ,CACN,MAAO,EACR,CACL,CAAG,GACc,IACjB,CC5BO,SAASC,EAAqBC,EAAK,CACxC,OAAOA,EACJ,IACCC,GAAQ;AAAA;AAAA,mDAEqCA,CAAI;AAAA,OAElD,EACA,KAAK,EAAE,CACZ,CACO,SAASC,EAAqBF,EAAK,CACxC,OAAOA,EACJ,IACC,CAAC,CAAE,GAAAG,EAAI,OAAAC,EAAQ,YAAAC,EAAa,MAAAC,EAAO,SAAAC,EAAU,MAAAC,EAAO,MAAAC,CAAK,IAAO;AAAA,wCAC9BN,CAAE;AAAA,wCACFC,EAAO,CAAC,CAAC,UAAUC,CAAW;AAAA,iCACrCC,CAAK;AAAA,4EACsCG,CAAK;AAAA,8CACnCF,CAAQ;AAAA,wCACdC,CAAK;AAAA;AAAA,CAGxC,EACA,KAAK,EAAE,CACZ,CCpBO,eAAeE,EAAoBC,EAAO,CAC/C,GAAIA,EAAM,OAAO,WAAa,SAC5B,OAGF,MAAMC,EAAQD,EAAM,OAAO,YACrBE,EAAa,SAAS,cAAc,eAAe,EAEzD,GAAI,CACF,IAAIC,EACJ,GAAIF,IAAU,MACZE,EAAM,MAAMlB,YAEZkB,EAAM,MAAMjB,EAAmBe,CAAK,EAChCE,EAAI,SAAS,SAAW,EAAG,CAC7BD,EAAW,UAAU,IAAI,oBAAoB,EAC7C,MACD,CAGHA,EAAW,UAAU,OAAO,oBAAoB,EAChDE,EAAa,UAAYb,EAAqBY,EAAI,QAAQ,EAE1D,SACG,iBAAiB,kBAAkB,EACnC,QAAQE,GAAOA,EAAI,UAAU,OAAO,yBAAyB,CAAC,EACjEL,EAAM,OAAO,UAAU,IAAI,yBAAyB,CACrD,OAAQM,EAAO,CACd,QAAQ,IAAIA,CAAK,CACrB,QAAY,CACT,CACH,CCvBA,MAAMC,EAAiB,SAAS,cAAc,eAAe,EAChDH,EAAe,SAAS,cAAc,aAAa,EAEhEG,EAAe,iBAAiB,QAASR,CAAmB,EAE5Df,EAAiB,EAAC,KAAKmB,GAAO,CAC5B,MAAMK,EAAS,CAAC,MAAO,GAAGL,CAAG,EAC7BI,EAAe,UAAYnB,EAAqBoB,CAAM,CACxD,CAAC,EAEDvB,EAAa,EAAC,KAAKkB,GAAO,CACxB,QAAQ,IAAIA,CAAG,EACfC,EAAa,UAAYb,EAAqBY,EAAI,QAAQ,CAC5D,CAAC"}